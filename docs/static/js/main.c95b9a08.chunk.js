(this["webpackJsonpmovies-resumen-app"]=this["webpackJsonpmovies-resumen-app"]||[]).push([[0],{37:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(17),s=c.n(r),i=(c(37),c(14)),a=c(76),l=c(0),o=function(){return Object(l.jsx)("div",{className:"Loading-data",children:Object(l.jsx)(a.a,{color:"secondary"})})},j=c(18),d=c.n(j),u=Object(n.createContext)(),h=c(5),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loading":return localStorage.setItem("data",JSON.stringify(Object(h.a)({},t.payload))),Object(h.a)({},t.payload);case"Search":return Object(h.a)({},t.payload);case"CargarLocalData":var c=JSON.parse(localStorage.getItem("data")),n=t.payload,r=n.movies,s=n.especies,i=n.locations,a=n.error,l=n.loading,o=n.personas,j=n.vehiculos;n.movieSelected;return c?Object(h.a)({},c):{movies:r,especies:s,personas:o,vehiculos:j,locations:i,loading:l,movieSelected:0,error:a};default:return e}},O=c(10),m=c(3),x=function(e){var t=e.id,c=e.title,n=e.original_title,r=e.original_title_romanised,s=e.description,i=e.director,a=e.producer,o=e.release_date,j=e.running_time,d=e.rt_score;e.people,e.url;return Object(l.jsxs)("div",{className:"card animate__animated animate__fadeI mt-1 mb-1",children:[Object(l.jsxs)("div",{className:"card-header",children:[Object(l.jsx)("h2",{children:c}),Object(l.jsx)("h3",{children:n}),Object(l.jsx)("h4",{children:r}),Object(l.jsx)("hr",{})]}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("p",{children:s}),Object(l.jsx)("h4",{children:i})]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"card-ambient mb-1 mt-1",children:[Object(l.jsx)(O.b,{className:"pointer btn btn-primary",to:"/More/".concat(t,"/","Personas","/").concat(c),children:"Personas"}),Object(l.jsx)(O.b,{className:"pointer  btn btn-primary",to:"/More/".concat(t,"/","Especies","/").concat(c),children:"Especies"}),Object(l.jsx)(O.b,{className:"pointer  btn btn-primary",to:"/More/".concat(t,"/","Lugares","/").concat(c),children:"Lugares"}),Object(l.jsx)(O.b,{className:"pointer  btn btn-primary",to:"/More/".concat(t,"/","Carros","/").concat(c),children:"Vehiculos"})]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"card-footer mt-5",children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("h5",{children:["Productor:",a]}),Object(l.jsxs)("h5",{children:["Lanzamiento:",o]})]}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("h5",{children:["Duracion:",j]}),Object(l.jsxs)("h5",{children:["Puntaje:",d]})]})]})]})},p=function(){var e=Object(n.useContext)(u),t=e.films,c=e.dispatch,r=t.movies,s=t.movieSelected;return Object(l.jsxs)(l.Fragment,{children:[1===s.length?Object(l.jsx)("div",{className:"back-home",children:Object(l.jsx)("button",{onClick:function(){c({type:"CargarLocalData",payload:t})},className:"btn btn-primary",children:"Regresar a las peliculas"})}):"",Object(l.jsx)("div",{className:"Ghibli-Grid",children:1===s.length?s.map((function(e){return Object(l.jsx)(x,Object(h.a)({},e),e.id)})):r.map((function(e){return Object(l.jsx)(x,Object(h.a)({},e),e.id)}))})]})},f=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(p,{})})},v="./static/media/logo.95c5236f.svg",g=c(31),N=c.n(g),y={Menu:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"100%"},input:{className:"text-search"}},_=function(){var e=Object(m.g)(),t=Object(n.useContext)(u),c=t.films,r=t.dispatch,s=c.movies,a=c.especies,o=c.locations,j=c.error,d=c.loading,h=c.personas,b=c.vehiculos,O=Object(n.useState)(""),x=Object(i.a)(O,2),p=x[0],f=x[1];return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("form",{className:"form-search",onSubmit:function(t){t.preventDefault();var c=s.filter((function(e){return e.title===p}));0!==c.length&&(r({type:"Search",payload:{movies:s,especies:a,personas:h,vehiculos:b,locations:o,loading:d,movieSelected:c,error:j}}),f(""),e.push("/"))},children:[Object(l.jsx)(N.a,{wrapperStyle:y.root,inputProps:y.input,menuStyle:y.Menu,getItemValue:function(e){return e.title},items:s,renderItem:function(e,t){return Object(l.jsx)("div",{style:{background:t?"lightgray":"white"},children:e.title},e.id)},shouldItemRender:function(e,t){return e.title.toLowerCase().indexOf(t.toLowerCase())>-1},value:p,onChange:function(e){return f(e.target.value)},onSelect:function(e){return f(e)}}),Object(l.jsx)("button",{className:"btn btn-primary",type:"sumbit",children:"Buscar"})]})})},C=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"header-main",children:Object(l.jsx)("div",{className:"header-logo",children:Object(l.jsx)("img",{src:v,alt:"ghibli-logo"})})}),Object(l.jsx)("div",{className:"header-search  mt-1 mb-1",children:Object(l.jsx)(_,{})})]})},S=function(e){var t=e.id,c=e.name,r=e.classification,s=e.eye_colors,i=e.hair_colors,a=(e.people,e.films,e.url,e.urlFilm),o=Object(n.useContext)(u).films,j=o.personas,d=o.especies;return t?Object(l.jsxs)("div",{className:"card-people animate__animated  animate__fadeIn",children:[Object(l.jsxs)("h3",{children:["Nombre :",c]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Clasificacion :",r]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Color de ojos :",s]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Color de Cabello :",i]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Personajes :",(d.map((function(e){return e.name})),j.filter((function(e){return e.films.filter((function(e){return e===a})).length>0})).map((function(e){return e?Object(l.jsx)("ul",{children:Object(l.jsx)("span",{children:e.name})},e.id):Object(l.jsx)("h4",{children:"NO hay personajes"})})))]}),Object(l.jsx)("hr",{})]}):Object(l.jsx)("h1",{children:"NO Se encontraron personajes"})},k=function(e){var t=e.id,c=e.name,r=e.surface_water,s=e.terrain,i=e.residents,a=e.climate,o=(e.urlFilm,Object(n.useContext)(u).films.personas);return t?Object(l.jsxs)("div",{className:"card-carro animate__animated  animate__fadeIn",children:[Object(l.jsxs)("h3",{children:["Nombre :",c]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Clima :",a]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Terreno :",s]}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{className:"card-body-carro",children:Object(l.jsxs)("h3",{children:["residentes :",function(){var e=i.map((function(e){return e.split("/")[4]})).filter(Boolean);return e.length>0?o.filter((function(t){return e.filter((function(e){return e===t.id})).length>0})).map((function(e){return e?Object(l.jsx)("ul",{children:Object(l.jsx)("span",{children:e.name})},e.id):Object(l.jsx)("h4",{children:"NO hay personajes"})})):i}()]})}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Superficie del agua :",r]}),Object(l.jsx)("hr",{})]}):Object(l.jsx)("h1",{children:"NO Se encontraron personajes"})},F=function(e){var t=e.id,c=e.name,r=e.gender,s=e.age,i=e.eye_color,a=e.hair_color,o=e.films,j=e.species,d=(e.url,e.namePelicula,Object(n.useContext)(u).films),h=d.movies,b=d.especies;return t?Object(l.jsxs)("div",{className:"card-people animate__animated  animate__fadeIn",children:[Object(l.jsxs)("h3",{children:["Nombre :",c]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Genero :",r]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["A\xf1os :",s]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Color de ojos :",i]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Color de Cabello :",a]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Pelicula :",function(e){var t=h.filter((function(t){return t.url===e[0]}));return Object(l.jsx)("ul",{children:Object(l.jsxs)("li",{children:["Name :",t[0].title]})})}(o)]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Especies :",function(e){var t=b.filter((function(t){return t.url===e}));return Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:["Name :",t[0].name]}),Object(l.jsxs)("li",{children:["Clasificacion:",t[0].classification]}),Object(l.jsxs)("li",{children:["Ojos :",t[0].eye_colors]}),Object(l.jsxs)("li",{children:["Cabello :",t[0].hair_color]})]})}(j)]}),Object(l.jsx)("hr",{})]}):Object(l.jsx)("h1",{children:"NO Se encontraron personajes"})},I=function(e){var t=e.id,c=e.length,r=e.name,s=e.pilot,i=e.vehicle_class,a=e.description,o=Object(n.useContext)(u).films,j=o.personas,d=o.especies;return t?Object(l.jsxs)("div",{className:"card-carro animate__animated  animate__fadeIn",children:[Object(l.jsxs)("h3",{children:["Nombre :",r]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Largo :",c]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Clase :",i]}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{className:"card-body-carro",children:Object(l.jsxs)("h3",{children:["Descripcion :",a]})}),Object(l.jsx)("hr",{}),Object(l.jsxs)("h3",{children:["Piloto :",function(){var e,t=j.filter((function(e){return e.url===s}));return Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:["Name :",t[0].name]}),Object(l.jsxs)("li",{children:["especie:",(e=t[0].species,d.find((function(t){return t.url===e})).classification)]}),Object(l.jsxs)("li",{children:["Ojos :",t[0].eye_color]}),Object(l.jsxs)("li",{children:["Cabello :",t[0].hair_color]})]})}()]}),Object(l.jsx)("hr",{})]}):Object(l.jsx)("h1",{children:"NO Se encontraron personajes"})},w=function(e){var t=e.name,c=e.history;return Object(l.jsxs)("div",{className:"title-list",children:[Object(l.jsx)("div",{className:"goback-button",children:Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return c.goBack()},children:"Regresar"})}),Object(l.jsx)("div",{className:"name-title",children:Object(l.jsx)("h1",{children:t})})]})},P=function(){return Object(l.jsxs)("div",{className:"no-data",children:[Object(l.jsx)("h1",{children:"No existen Datos"}),Object(l.jsx)(O.b,{to:"/",className:"btn btn-primary no-data-buton",children:"Regresar"})]})},L=function(e){var t=e.history,c=Object(m.h)(),r=c.id,s=c.tipo,i=c.name,a=function(e){var t=Object(n.useContext)(u).films.movies.find((function(t){return t.id===e}));return void 0===t?null:t.url}(r);null===a&&t.goBack();return Object(l.jsx)(l.Fragment,{children:function(){switch(s){case"Personas":var e=function(e){var t=Object(n.useContext)(u).films,c=t.movies,r=t.personas,s=c.find((function(t){return t.id===e})),i=r.filter((function(e){return!0===function(e,t){return e.films.filter((function(e){return e===t})).length>0}(e,s.url)}));return console.log(i),i}(r);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(w,{history:t,name:i}),Object(l.jsx)("div",{className:"list-cards",children:e.length>0?e.map((function(e){return Object(l.jsx)(F,Object(h.a)({},e),e.id)})):Object(l.jsx)(P,{})})]});case"Especies":var c=function(e){var t=Object(n.useContext)(u).films,c=t.movies,r=t.especies,s=c.find((function(t){return t.id===e}));return r.filter((function(e){return!0===function(e,t){var c=e.films.filter((function(e){return e===t.url}));return t.species.filter((function(t){return t===e.url})).length>0&&c.length>0}(e,s)}))}(r);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(w,{history:t,name:i}),Object(l.jsx)("div",{className:"list-cards",children:c.length>0?c.map((function(e){return Object(l.jsx)(S,Object(h.a)(Object(h.a)({},e),{},{urlFilm:a}),e.id)})):Object(l.jsx)(P,{})})]});case"Carros":var o=(d=a,Object(n.useContext)(u).films.vehiculos.filter((function(e){return e.films[0]===d})));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(w,{history:t,name:i}),Object(l.jsx)("div",{className:"list-cards",children:o.length>0?o.map((function(e){return Object(l.jsx)(I,Object(h.a)(Object(h.a)({},e),{},{urlFilm:a}),e.id)})):Object(l.jsx)(P,{})})]});case"Lugares":var j=function(e){return Object(n.useContext)(u).films.locations.filter((function(t){return function(e,t){return e.films.filter((function(e){return e===t})).length>0}(t,e)}))}(a);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(w,{history:t,name:i}),Object(l.jsx)("div",{className:"list-cards",children:j.length>0?j.map((function(e){return Object(l.jsx)(k,Object(h.a)(Object(h.a)({},e),{},{urlFilm:a}),e.id)})):Object(l.jsx)(P,{})})]});default:return Object(l.jsx)(m.a,{to:"/"})}var d}()})},M=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(O.a,{children:Object(l.jsxs)("div",{children:[Object(l.jsx)(C,{}),Object(l.jsxs)(m.d,{children:[Object(l.jsx)(m.b,{exact:!0,path:"/",component:f}),Object(l.jsx)(m.b,{exact:!0,path:"/More/:id/:tipo/:name",component:L}),Object(l.jsx)(m.b,{component:f})]})]})})})},D=function(){return JSON.parse(localStorage.getItem("data"))},E=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),c=t[0],r=t[1],s=function(){var e=["https://ghibliapi.herokuapp.com/films/","https://ghibliapi.herokuapp.com/species/","https://ghibliapi.herokuapp.com/people/","https://ghibliapi.herokuapp.com/vehicles/","https://ghibliapi.herokuapp.com/locations/"],t=Object(n.useState)({movies:null,especies:null,personas:null,vehiculos:null,locations:!0,loading:!0,movieSelected:0,error:null}),c=Object(i.a)(t,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){s({movies:null,especies:null,personas:null,vehiculos:null,locations:!0,loading:!0,movieSelected:0,error:null});for(var t=[],c=0;c<e.length;c++){var n=e[c];t.push(d.a.get(n))}d.a.all(t).then((function(e){s({movies:e[0].data,especies:e[1].data,personas:e[2].data,vehiculos:e[3].data,locations:e[4].data,loading:!1,movieSelected:0,error:null})})).catch((function(e){console.log("entro al error",e),s({movies:null,especies:null,personas:null,vehiculos:null,locations:!0,loading:!0,movieSelected:0,error:"No se cargaron los datos"})}))}),[]),r}(),a=Object(n.useReducer)(b,{},D),j=Object(i.a)(a,2),h=j[0],O=j[1];return!s.loading&&c?(function(e,t){e({type:"loading",payload:t})}(O,s),r(!1)):s.loading?Object(l.jsx)(u.Provider,{value:{films:h,dispatch:O},children:Object(l.jsx)(M,{})}):Object(l.jsx)(o,{})};s.a.render(Object(l.jsx)(E,{}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.c95b9a08.chunk.js.map